<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EHCB Cardio App ‚Äì Programme</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; background: #f5f5f5; }
    h1 { color: #b30000; }
    select, button { font-size: 1rem; padding: 0.6rem 1rem; margin: 0.5rem; }
    .phase { font-size: 1.2rem; margin-top: 1rem; }
    .timer { font-size: 2rem; margin: 1rem 0; }
    .progress { width: 80%; height: 20px; background: #ddd; margin: 1rem auto; border-radius: 10px; overflow: hidden; }
    .bar { height: 100%; background: #b30000; width: 0%; transition: width 1s linear; }
  </style>
</head>
<body>
  <h1>üèí EHCB Cardio App</h1>
  <p>W√§hle ein Trainingsprogramm:</p>
  <select id="program">
    <option value="kraft">Kraftausdauer</option>
    <option value="anaerob">Anaerob</option>
    <option value="vo2">VO‚ÇÇmax</option>
    <option value="regen">Regeneration</option>
  </select><br/>
  <button onclick="start()">Start</button>
  <button onclick="pause()">Pause</button>
  <button onclick="reset()">Reset</button>

  <div class="phase" id="phaseName">Bereit</div>
  <div class="timer" id="time">00:00</div>
  <div class="progress"><div class="bar" id="bar"></div></div>

<script>
const programmes = {
  kraft: [
    { name: "Aufw√§rmen 1", time: 180 },
    { name: "Aufw√§rmen 2", time: 180 },
    { name: "Aufw√§rmen 3", time: 120 },
    { name: "Antritte", time: 120 },
    { name: "Intervall: Sitzen", time: 180 },
    { name: "Intervall: Stehen", time: 180 },
    { name: "Erholung", time: 120 },
    { name: "Cool-Down", time: 180 }
  ],
  anaerob: [
    { name: "Aufw√§rmen", time: 180 },
    { name: "Sprint 1", time: 20 }, { name: "Pause 1", time: 10 },
    { name: "Sprint 2", time: 20 }, { name: "Pause 2", time: 10 },
    { name: "Sprint 3", time: 20 }, { name: "Pause 3", time: 10 },
    { name: "Sprint 4", time: 20 }, { name: "Pause 4", time: 10 },
    { name: "Sprint 5", time: 20 }, { name: "Pause 5", time: 10 },
    { name: "Sprint 6", time: 20 }, { name: "Pause 6", time: 10 },
    { name: "Sprint 7", time: 20 }, { name: "Pause 7", time: 10 },
    { name: "Sprint 8", time: 20 }, { name: "Pause 8", time: 10 },
    { name: "Cool-Down", time: 180 }
  ],
  vo2: [
    { name: "Aufw√§rmen", time: 180 },
    { name: "Intervall 1", time: 240 }, { name: "Pause 1", time: 180 },
    { name: "Intervall 2", time: 240 }, { name: "Pause 2", time: 180 },
    { name: "Intervall 3", time: 240 }, { name: "Pause 3", time: 180 },
    { name: "Intervall 4", time: 240 },
    { name: "Cool-Down", time: 180 }
  ],
  regen: [
    { name: "Locker fahren", time: 240 },
    { name: "Frequenz steigern", time: 120 },
    { name: "Widerstand leicht", time: 180 },
    { name: "Locker fahren", time: 240 },
    { name: "Cool-Down", time: 180 }
  ]
};

let plan = [], current = 0, seconds = 0, interval, running = false;

function start() {
  if (running) return;
  const p = document.getElementById("program").value;
  if (!plan.length) {
    plan = programmes[p];
    current = 0;
    seconds = plan[0].time;
    document.getElementById("phaseName").innerText = plan[0].name;
  }
  running = true;
  interval = setInterval(() => {
    if (seconds > 0) {
      seconds--;
      update();
    } else {
      current++;
      if (current < plan.length) {
        seconds = plan[current].time;
        document.getElementById("phaseName").innerText = plan[current].name;
        update();
      } else {
        clearInterval(interval);
        document.getElementById("phaseName").innerText = "Training abgeschlossen!";
        document.getElementById("time").innerText = "00:00";
        document.getElementById("bar").style.width = "100%";
        running = false;
      }
    }
  }, 1000);
}

function pause() {
  clearInterval(interval);
  running = false;
}

function reset() {
  clearInterval(interval);
  plan = [];
  current = 0;
  seconds = 0;
  running = false;
  document.getElementById("phaseName").innerText = "Bereit";
  document.getElementById("time").innerText = "00:00";
  document.getElementById("bar").style.width = "0%";
}

function update() {
  const m = String(Math.floor(seconds / 60)).padStart(2, "0");
  const s = String(seconds % 60).padStart(2, "0");
  document.getElementById("time").innerText = m + ":" + s;
  const total = plan[current].time;
  const percent = 100 - Math.floor((seconds / total) * 100);
  document.getElementById("bar").style.width = percent + "%";
}
</script>
</body>
</html>
